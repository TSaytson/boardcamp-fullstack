services:
  db:
    image: postgres:15
    container_name: postgres
    restart: always
    ports:
      - 5433:5432
    volumes:
      - pgData:/var/lib/postgresql/data
    env_file:
      - ./boardcamp-java/.env

  api:
    container_name: boardcamp_api
    build: ./boardcamp-java
    ports: 
      - 8080:8080
    env_file:
      - ./boardcamp-java/.env
    depends_on:
      - db

  # front:
  #   build: ./boardcamp-front
  #   volumes:
  #     - react-volume:/var/www/html

  # nginx:
  #   build: ./nginx
  #   ports:
  #     - 8080:80
  #   volumes:
  #     - react-volume:/var/www/html
  #   depends_on:
  #     - db
  #     - api
  #     - front

volumes:
  pgData:
  # react-volume: